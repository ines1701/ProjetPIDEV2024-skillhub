{# event_details.twig #}
{% extends 'baseF.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
   <link rel="stylesheet" href="{{ asset('assets/css/style.css') }}">
       <style>
        @keyframes gradientChange {
            0% { background: linear-gradient(to right, #ffcccc, #cc99ff); }
            50% { background: linear-gradient(to right, #cc99ff, #ffcccc); }
            100% { background: linear-gradient(to right, #ffcccc, #cc99ff); }
        }

        body {
            animation: gradientChange 3s infinite;
        }
        .view-container {
    display: inline-block;
    background-color: #f8f9fa;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 18px;
    font-weight: bold;
    color: #007bff;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
}

.view-label {
    margin-right: 8px;
}

.view-value {
    color: #28a745; /* Couleur verte pour la valeur */
}
    </style>
{% endblock %}


{% block javascript %}
    <script>
        // Envoyer une requête AJAX à votre contrôleur pour incrémenter le nombre de vues
        $(document).ready(function() {
            $.ajax({
                url: "{{ path('app_event_increment_views', {'id': event.id}) }}",
                method: 'POST',
            });
        });
    </script>
{% endblock %}


{% block title %}Détails de l'événement{% endblock %}

{% block body %}
    <br></br>
    <br></br>
    <div style="text-align: center; padding: 40px;">
        <h1 style="color: white; text-shadow: 2px 2px 4px rgba(255,255,255,0.7);">Détails de l'événement</h1>
    </div>

      <!-- Afficher le nombre de vues -->
        <div class="view-container">
            <span class="view-label">Nombre de vues :</span>
            <span class="view-value">{{ event.view }}</span>
        </div>

    <div style="text-align: center;">
        <h2 style="color: white;">{{ event.titre }}</h2>
        <video controls style="max-width: 80%;">
            <source src="{{ asset('/images/affiche/' ~ event.video) }}" type="video/mp4">
        </video>
        <p style="color: white;">{{ event.describ }}</p>
        <p style="color: white;">Lieu: {{ event.lieu }}</p>
        <p style="color: white;">Date: {{ event.date ? event.date|date('Y-m-d H:i:s') : '' }}</p>
        <p style="color: white;">Type: {{ event.type }}</p>
        <button onclick="window.location.href='{{ path('app_event_index') }}'" class="btn custom-green">retour</button>
    </div>

    

{% endblock %}
